<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Janus Dominic - Creative Developer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="fixed top-0 left-0 h-[2px] bg-cyan-500 z-50 transition-all duration-100 ease-out shadow-[0_0_10px_rgba(6,182,212,0.8)]" id="scroll-progress" style="width: 0%"></div>
    
    <div class="film-grain"></div>

    <div id="preloader" class="fixed inset-0 z-[9999] bg-[#050505] flex flex-col items-center justify-center font-mono text-xs sm:text-sm text-secondary selection:bg-cyan-500 selection:text-black">
        <div class="w-64 sm:w-80">
            <div class="flex justify-between mb-4 border-b border-gray-800 pb-2 opacity-50">
                <span>SYSTEM_BOOT.exe</span>
                <span>V 2.4.0</span>
            </div>
            <div id="boot-logs" class="h-32 overflow-hidden flex flex-col justify-end mb-4 text-gray-400 leading-tight"></div>
            <div class="w-full h-[2px] bg-gray-800 mt-2 relative overflow-hidden">
                <div id="loader-bar" class="absolute top-0 left-0 h-full bg-cyan-500 w-0 shadow-[0_0_10px_rgba(6,182,212,0.8)]"></div>
            </div>
        </div>
    </div>

    <canvas id="webgl-canvas"></canvas>
    <div id="cursor"></div>

    <div class="side-nav">
        <button id="theme-dark" onclick="setTheme('dark')" class="theme-toggle">DARK</button>
        <button id="theme-light" onclick="setTheme('light')" class="theme-toggle active">WARM</button>
    </div>
    
    <button id="mute-btn" onclick="toggleMute()">SND</button>
    <script>
        function toggleMute() {
            if (typeof AudioEngine !== 'undefined') {
                AudioEngine.isMuted = !AudioEngine.isMuted;
                document.getElementById('mute-btn').classList.toggle('muted');
            }
        }
    </script>

    <div class="content-wrapper">
        <header class="px-6 lg:px-16 py-8 lg:py-12 min-h-screen flex flex-col justify-center relative z-10">
            <div class="max-w-7xl mx-auto w-full grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div>
                    <h1 class="text-5xl lg:text-8xl font-bold mb-4 tracking-tighter mix-blend-difference" data-scramble>Janus Dominic</h1>
                    <p class="text-lg lg:text-2xl text-secondary font-light mb-12 font-mono" id="professional-title">Full-Stack Developer</p>
                    
                    <nav class="flex gap-8 text-sm font-medium tracking-widest uppercase">
                        <a href="#projects" class="nav-item">Projects</a>
                        <a href="#info" class="nav-item">Info</a>
                        <a href="#contact" class="nav-item">Contact</a>
                    </nav>
                </div>
                <div class="hidden lg:block h-full"></div>
            </div>
        </header>

        <main class="px-6 lg:px-16 pb-32">
            <div class="max-w-7xl mx-auto">
                
                <section class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-32">
                    <div class="lg:col-start-2">
                        <p class="text-lg lg:text-xl font-light leading-relaxed mb-8" id="bio-text">Loading...</p>
                        <div class="flex gap-6">
                            <a href="#contact" class="btn-minimal">Contact Me</a>
                            <a href="#projects" class="btn-minimal">View Work</a>
                        </div>
                    </div>
                </section>

                <section id="projects" class="mb-32">
                    <h2 class="section-title" data-scramble>Selected Projects</h2>
                    <div id="projects-grid" class="grid grid-cols-1 lg:grid-cols-2 gap-8"></div>
                </section>

                <section id="skills" class="mb-32">
                    <h2 class="section-title" data-scramble>Technical Arsenal</h2>
                    <div id="skills-container" class="flex flex-wrap gap-3"></div>
                </section>

                <section id="info" class="mb-32">
                    <h2 class="section-title" data-scramble>Background</h2>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16">
                        <div class="space-y-12">
                            <div>
                                <h3 class="text-xs font-mono text-accent mb-6 uppercase tracking-wider">Experience</h3>
                                <div id="experience-list" class="space-y-6"></div>
                            </div>
                            <div>
                                <h3 class="text-xs font-mono text-accent mb-6 uppercase tracking-wider">Education</h3>
                                <div id="education-list" class="space-y-6"></div>
                            </div>
                        </div>
                        <div class="space-y-12">
                            <div>
                                <h3 class="text-xs font-mono text-accent mb-6 uppercase tracking-wider">Certifications</h3>
                                <div id="certifications-list" class="space-y-6"></div>
                            </div>
                            <div>
                                <h3 class="text-xs font-mono text-accent mb-6 uppercase tracking-wider">Achievements</h3>
                                <div id="achievements-list" class="space-y-6"></div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="contact" class="min-h-[50vh] flex flex-col justify-center">
                    <h2 class="section-title" data-scramble>Initialize Handshake</h2>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                        <div>
                            <p class="text-secondary mb-8 font-light">Ready to build something impossible? Send me a transmission.</p>
                            <div class="space-y-4 text-sm font-mono" id="contact-info"></div>
                        </div>
                        <form id="contact-form" class="space-y-4">
                            <div id="form-message" class="hidden p-3 text-sm rounded"></div>
                            <div class="grid grid-cols-2 gap-4">
                                <input type="text" name="visitor_name" placeholder="NAME" required class="w-full p-4 text-sm">
                                <input type="email" name="visitor_email" placeholder="EMAIL" required class="w-full p-4 text-sm">
                            </div>
                            <input type="text" name="subject" placeholder="SUBJECT" class="w-full p-4 text-sm">
                            <textarea name="message" rows="4" placeholder="MESSAGE" required class="w-full p-4 text-sm resize-none"></textarea>
                            <button type="submit" class="btn-minimal w-full py-4 text-xs tracking-[0.2em] uppercase">Transmit</button>
                        </form>
                    </div>
                </section>
            </div>
        </main>

        <footer class="px-6 py-8 border-t border-gray-800/50 mt-12">
            <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center text-xs font-mono text-secondary/60 gap-4">
                <div class="flex items-center gap-2">
                    <span>&copy; <span id="footer-year">2024</span> JANUS DOMINIC</span>
                </div>
                <div class="flex items-center gap-6">
                    <div class="flex items-center">
                        <span class="status-dot"></span>
                        <span>SYSTEM ONLINE</span>
                    </div>
                    <div class="hidden md:block">
                        UPTIME: <span id="system-uptime" class="text-accent">00:00:00</span>
                    </div>
                    <div>
                        LOC: <span class="text-accent">PHILIPPINES</span>
                    </div>
                </div>
            </div>
        </footer>
    </div>

<script>
    let scene, camera, renderer, mesh, heroGroup;
    let heroMaterials = { planet: null, ringInner: null, ringMiddle: null, ringOuter: null, particles: null };
    let lights = { ambient: null, point: null, rim: null };
    let isDark = localStorage.getItem('theme') === 'dark';
    let mouseX = 0.5, mouseY = 0.5, targetX = 0.5, targetY = 0.5;

    function initWebGL() {
        const canvas = document.getElementById('webgl-canvas');
        scene = new THREE.Scene();
        camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 15; 

        renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 1.5));

        // === LOCKED BACKGROUND SHADER (LIQUID) ===
        const material = new THREE.ShaderMaterial({
            uniforms: {
                u_time: { value: 0 },
                u_mouse: { value: new THREE.Vector2(0.5, 0.5) },
                u_resolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },
                u_dark: { value: isDark ? 1.0 : 0.0 },
                u_scroll: { value: 0.0 }
            },
            vertexShader: `varying vec2 vUv; void main() { vUv = uv; gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0); }`,
            fragmentShader: `
                uniform float u_time;
                uniform vec2 u_mouse;
                uniform vec2 u_resolution;
                uniform float u_dark;
                uniform float u_scroll;
                varying vec2 vUv;

                float random(vec2 st) { return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123); }
                float grain(vec2 uv) { return random(uv + mod(u_time, 10.0)) * 0.08; }
                float noise(vec2 st) {
                    vec2 i = floor(st); vec2 f = fract(st);
                    float a = random(i); float b = random(i + vec2(1.0, 0.0));
                    float c = random(i + vec2(0.0, 1.0)); float d = random(i + vec2(1.0, 1.0));
                    vec2 u = f * f * (3.0 - 2.0 * f);
                    return mix(a, b, u.x) + (c - a)* u.y * (1.0 - u.x) + (d - b) * u.x * u.y;
                }
                float fbm(vec2 st) {
                    float value = 0.0; float amp = 0.5;
                    for (int i = 0; i < 4; i++) { value += amp * noise(st); st *= 2.0; amp *= 0.5; }
                    return value;
                }
                vec3 palette(float t, vec3 a, vec3 b, vec3 c, vec3 d) { return a + b * cos(6.28318 * (c * t + d)); }

                void main() {
                    vec2 st = vUv;
                    float aspect = u_resolution.x / u_resolution.y;
                    st.x *= aspect;
                    st.y -= u_scroll * 0.5; 

                    vec2 mouse = u_mouse;
                    mouse.x *= aspect;

                    vec2 q = vec2(0.); q.x = fbm(st + 0.00 * u_time); q.y = fbm(st + vec2(1.0));
                    vec2 r = vec2(0.); r.x = fbm(st + 1.0 * q + vec2(1.7, 9.2) + 0.15 * u_time);
                    r.y = fbm(st + 1.0 * q + vec2(8.3, 2.8) + 0.126 * u_time);
                    float f = fbm(st + r);

                    vec3 goldBg = mix(vec3(0.1, 0.08, 0.06), vec3(0.2, 0.18, 0.15), clamp(f*f*4.0, 0.0, 1.0)); 
                    vec3 cyanBg = mix(vec3(0.098, 0.094, 0.231), vec3(0.439, 0.537, 0.576), clamp(f*f*4.0, 0.0, 1.0));
                    vec3 color = mix(goldBg, cyanBg, u_dark);

                    vec2 diff = st - mouse; diff.y *= 1.85;
                    float d = length(diff); float influence = smoothstep(0.8, 0.0, d);
                    
                    vec3 a, b, c, dParam; 
                    float glowAmount;
                    if (u_dark > 0.5) {
                         a = vec3(0.5); b = vec3(0.5); c = vec3(1.0); dParam = vec3(0.631, 0.760, 0.741); 
                         glowAmount = 1.5;
                    } else {
                         a = vec3(0.5); b = vec3(0.5); c = vec3(1.0); dParam = vec3(0.50, 0.40, 0.20); 
                         glowAmount = 1.5;
                    }

                    vec3 rippleColor = palette(d * 3.0 - u_time * 0.5, a, b, c, dParam);
                    rippleColor = mix(rippleColor, vec3(1.0), glowAmount);
                    color += rippleColor * (sin(d * 12.0 - u_time * 2.5) * 0.5 + 0.5) * influence * 0.04;
                    color += vec3(grain(vUv) * 0.6);

                    gl_FragColor = vec4(color, 1.0);
                }
            `,
        });
        const geometry = new THREE.PlaneGeometry(20, 20, 1, 1);
        mesh = new THREE.Mesh(geometry, material);
        scene.add(mesh);

        createHeroObject();
        
        lights.ambient = new THREE.AmbientLight(0xffffff, 0.5); scene.add(lights.ambient);
        lights.point = new THREE.PointLight(0xffffff, 2); lights.point.position.set(5, 5, 5); scene.add(lights.point);
        lights.rim = new THREE.SpotLight(0xffffff, 5, 20, 0.5, 0.5, 1); lights.rim.position.set(-2, 4, 0); lights.rim.lookAt(3.5, 0, 0); scene.add(lights.rim);

        updateHeroTheme(isDark);
        setupScrollAnimation();

        function animate() {
            requestAnimationFrame(animate);
            mouseX += (targetX - mouseX) * 0.05; mouseY += (targetY - mouseY) * 0.05;
            material.uniforms.u_time.value += 0.01; material.uniforms.u_mouse.value.set(mouseX, mouseY);
            if (heroGroup) {
                const t = material.uniforms.u_time.value;
                heroGroup.children[0].rotation.y = t * 0.05; heroGroup.children[0].rotation.z = Math.sin(t * 0.5) * 0.05;
                heroGroup.children[1].children[0].rotation.z = t * 0.1;
                heroGroup.children[1].children[1].rotation.z = t * -0.02;
                heroGroup.children[1].children[2].rotation.z = t * 0.05;
                heroGroup.position.y += Math.sin(t) * 0.002;
            }
            renderer.render(scene, camera);
        }
        animate();

        document.addEventListener('mousemove', e => { targetX = e.clientX / window.innerWidth; targetY = 1.0 - (e.clientY / window.innerHeight); });
        window.addEventListener('scroll', () => { 
            material.uniforms.u_scroll.value = window.scrollY / (document.body.scrollHeight - window.innerHeight);
            const progressBar = document.getElementById('scroll-progress');
            if (progressBar) progressBar.style.width = `${(window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100}%`;
        });
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight; camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight); material.uniforms.u_resolution.value.set(window.innerWidth, window.innerHeight);
            ScrollTrigger.refresh();
        });
    }

    window.playIntroAnimation = function() {
        gsap.to(camera.position, { z: 5, duration: 2.5, ease: "expo.out", delay: 0.2 });
        if(heroGroup) gsap.from(heroGroup.rotation, { y: Math.PI * 1, z: 0.5, duration: 2.5, ease: "expo.out" });
    };

    function createHeroObject() {
        heroGroup = new THREE.Group();
        heroMaterials.planet = new THREE.MeshPhysicalMaterial({ roughness: 0.15, transmission: 0.6, thickness: 1.5, flatShading: true });
        heroGroup.add(new THREE.Mesh(new THREE.IcosahedronGeometry(1.2, 1), heroMaterials.planet));
        
        const rings = new THREE.Group(); rings.rotation.x = Math.PI / 2.5; rings.rotation.y = Math.PI / 12;
        heroMaterials.ringInner = new THREE.MeshBasicMaterial({ wireframe: true, side: THREE.DoubleSide, transparent: true });
        rings.add(new THREE.Mesh(new THREE.RingGeometry(1.6, 2.2, 64, 2), heroMaterials.ringInner));
        
        const pGeo = new THREE.BufferGeometry(); const pPos = new Float32Array(1200);
        for(let i=0; i<1200; i+=3) { const a = Math.random()*Math.PI*2; const r=2.3+Math.random()*0.8; pPos[i]=Math.cos(a)*r; pPos[i+1]=Math.sin(a)*r; pPos[i+2]=(Math.random()-0.5)*0.1; }
        pGeo.setAttribute('position', new THREE.BufferAttribute(pPos, 3));
        heroMaterials.particles = new THREE.PointsMaterial({ size: 0.03, transparent: true });
        rings.add(new THREE.Points(pGeo, heroMaterials.particles));
        
        heroMaterials.ringOuter = new THREE.MeshBasicMaterial({ side: THREE.DoubleSide, transparent: true });
        rings.add(new THREE.Mesh(new THREE.RingGeometry(3.3, 3.35, 128), heroMaterials.ringOuter));
        
        heroGroup.add(rings); scene.add(heroGroup); heroGroup.position.set(3.5, 0, 0);
    }

    function setupScrollAnimation() {
        if (window.innerWidth < 1024) { heroGroup.position.set(1, 3, -5); heroGroup.scale.set(0.6, 0.6, 0.6); return; }
        gsap.registerPlugin(ScrollTrigger);
        let tl = gsap.timeline({ scrollTrigger: { trigger: "body", start: "top top", end: "bottom bottom", scrub: 1.5 } });
        tl.to(heroGroup.position, { x: -3.5, z: -2, y: 0.5, ease: "power1.inOut" }, 0.1);
        tl.to(heroGroup.position, { x: 0, z: -4, y: -1.0, ease: "power1.inOut" }, 0.5);
        tl.to(heroGroup.children[0].scale, { x: 0, y: 0, z: 0, ease: "power2.in" }, 0.4);
        tl.to(heroGroup.position, { x: 0, z: 0, y: 1.5, ease: "power1.inOut" }, 0.9);
        tl.to(heroGroup.children[0].scale, { x: 1, y: 1, z: 1, ease: "elastic.out(1, 0.5)" }, 0.85);
        tl.to(heroGroup.rotation, { y: Math.PI * 2, x: 0.5, ease: "none" }, 0);
    }

    function updateHeroTheme(dark) {
        if (!heroMaterials.planet) return;
        if (dark) {
            heroMaterials.planet.color.setHex(0x0f172a); heroMaterials.planet.emissive.setHex(0x06b6d4); heroMaterials.planet.emissiveIntensity = 0.2;
            heroMaterials.ringInner.color.setHex(0x0891b2); heroMaterials.particles.color.setHex(0x67e8f9); heroMaterials.ringOuter.color.setHex(0xffffff);
            lights.point.color.setHex(0xccfbf1); lights.rim.color.setHex(0x06b6d4);
        } else {
            heroMaterials.planet.color.setHex(0x3f2108); heroMaterials.planet.emissive.setHex(0xff5500); heroMaterials.planet.emissiveIntensity = 0.5;
            heroMaterials.ringInner.color.setHex(0xffaa00); heroMaterials.particles.color.setHex(0xffd700); heroMaterials.ringOuter.color.setHex(0xcc8800);
            lights.point.color.setHex(0xffaa66); lights.rim.color.setHex(0xffd700);
        }
    }

    function setTheme(theme) {
        document.documentElement.setAttribute('data-theme', theme); localStorage.setItem('theme', theme); isDark = theme === 'dark';
        if (mesh) gsap.to(mesh.material.uniforms.u_dark, { value: isDark ? 1.0 : 0.0, duration: 1.2, ease: "power2.inOut" });
        updateHeroTheme(isDark);
        document.querySelectorAll('.theme-toggle').forEach(btn => btn.classList.remove('active'));
        const btnId = theme === 'light' ? 'theme-light' : 'theme-dark';
        if(document.getElementById(btnId)) document.getElementById(btnId).classList.add('active');
    }

    function loadTheme() { const savedTheme = localStorage.getItem('theme') || 'light'; setTheme(savedTheme); }
    document.addEventListener('DOMContentLoaded', () => { initWebGL(); loadTheme(); });
</script>
    
<script src="app.js"></script>
</body>
</html>